# 发布订阅模式

- 有一个对象, 有人一直看着他

- 当这个对象发生变化的时候, 第三方通知这个看着的人, 触发技能


例子: 买书

- 普通程序员买书
  -   去书店, 问 ,没有, 回家
  - 过一会再去, 问, 没有, 回家
  - 过一会再问, 问, 没有, 回家
- 发布订阅程序员买书
  - 去书店, 问, 没有, 留下联系方式给店员
  - 一点有了书, 就会接到电话
  - 触发技能去买书

- 只需要一个构造函数
  - 创建一个第三方店员的身份
  - 我们的任务就是模拟一个addEventListener()

分析构造函数

- 属性: 任务队列

```
{
	click: [fn1, fn2],
    abc: [fn1,fn2,fn3]
}
```

- 方法: 能向消息队列里面添加内容
- 方法: 删除消息队列里面的内容
- 方法: 触发消息队列里面的内容